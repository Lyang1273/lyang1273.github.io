<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日记 - Lyang1273</title>
    <link rel="stylesheet" href="/style.css">
    <style>
        main{max-width:920px;margin:0 auto;padding:0 2rem 10rem;}
        .page-title{font-size:3.2rem;font-weight:800;text-align:center;margin:4rem 0 3rem;}
        .article-list{display:flex;flex-direction:column;gap:1.8rem;}
        .article-item{background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.15);border-radius:16px;
                     padding:1.9rem 2.3rem;transition:all .35s;backdrop-filter:blur(12px);cursor:pointer;}
        .article-item:hover{transform:translateY(-6px);box-shadow:0 16px 40px rgba(0,0,0,0.5);}
        .article-title a{color:inherit;text-decoration:none;font-size:1.32rem;font-weight:600;}
        .article-meta{font-size:0.92rem;opacity:0.75;display:flex;gap:1.4rem;margin:0.6rem 0;}
        .article-tag{background:rgba(110,207,255,0.2);color:#6ecfff;padding:0.25rem 0.8rem;border-radius:20px;}
    </style>
</head>
<body>
<div class="bg-container"></div>
<div class="bg-overlay"></div>
<div w3-include-html="/header.html"></div>

<main>
    <h1 class="page-title">日记</h1>
    <div class="article-list" id="list">加载中...</div>
</main>

<script>
const isDiary = location.pathname.includes('/diary/');
document.querySelector('.page-title').textContent = isDiary ? '日记' : '经验';

fetch('/doc/articles.json')
  .then(r => r.json())
  .then(arts => {
    const filtered = arts.filter(a => isDiary ? a.category==='diary' : a.category==='experience')
                        .sort((a,b) => b.id.localeCompare(a.id));
    document.getElementById('list').innerHTML = filtered.map(a => `
      <div class="article-item" onclick="location.href='/doc/\( {a.category}/ \){a.id}.html'">
        <div class="article-title"><a href="/doc/\( {a.category}/ \){a.id}.html">${a.title}</a></div>
        <div class="article-meta">
          <span>${a.date}</span>
          <span class="article-tag">${a.category==='diary'?'日记':'经验'}</span>
        </div>
      </div>
    `).join('');
  });
</script>
<script src="/include.js"></script>
</body>
</html>