<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>加载中... - Lyang1273</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css/github-markdown.css">
    <style>
        main{max-width:860px;margin:0 auto;padding:2rem 2rem 12rem;}
        .markdown-body{background:rgba(255,255,255,0.07);border:1px solid rgba(255,255,255,0.14);
            border-radius:18px;padding:3rem;backdrop-filter:blur(12px);box-sizing:border-box;}
        h1{text-align:center;margin:3rem 0 1rem;font-size:2.6rem;font-weight:800;}
        .meta{text-align:center;opacity:0.7;margin-bottom:3rem;font-size:1rem;}
        @media(max-width:768px){h1{font-size:2.2rem;}.markdown-body{padding:2rem;}}
    </style>
</head>
<body>
<div class="bg-container"></div>
<div class="bg-overlay"></div>
<div w3-include-html="/header.html"></div>

<main>
    <h1 id="title">加载中...</h1>
    <div class="meta" id="meta">加载中...</div>
    <article class="markdown-body" id="content">加载中...</article>
</main>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>

const ARTICLE_ID = "20251128001"

fetch('/doc/articles.json')
  .then(r => r.json())
  .then(articles => {
    const art = articles.find(a => a.id === ARTICLE_ID);
    if (!art) throw "文章未找到";

    document.title = `${art.title} - Lyang1273`;
    document.getElementById('title').textContent = art.title;
    document.getElementById('meta').textContent = `\( {art.date} • \){art.category === 'diary' ? '日记' : '经验'}`;

    return fetch(`${art.id}.md`);
  })
  .then(r => r.text())
  .then(md => {
    document.getElementById('content').innerHTML = marked.parse(md);
  })
  .catch(err => {
    document.getElementById('content').innerHTML = `<p style="text-align:center;color:#ff6b6b;">文章加载失败：${err}</p>`;
  });
</script>
<script src="/include.js"></script>
</body>
</html>