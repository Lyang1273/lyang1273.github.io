<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文章 - Lyang1273</title>
    <link rel="stylesheet" href="/style.css">
    <style>
        main{max-width:920px;margin:0 auto;padding:0 2rem 10rem;}
        .page-title{font-size:3.2rem;font-weight:800;text-align:center;margin:4rem 0 3rem;letter-spacing:3px;}
        .article-list{display:flex;flex-direction:column;gap:2rem;}
        .article-item{background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.15);border-radius:18px;padding:2rem 2.4rem;transition:all .35s;backdrop-filter:blur(12px);cursor:pointer;}
        .article-item:hover{transform:translateY(-8px);box-shadow:0 20px 50px rgba(0,0,0,0.5);background:rgba(255,255,255,0.13);}
        .article-title{font-size:1.36rem;font-weight:600;margin-bottom:0.8rem;}
        .article-title a{color:inherit;text-decoration:none;}
        .article-meta{font-size:0.94rem;opacity:0.75;margin-bottom:0.8rem;display:flex;gap:1.6rem;flex-wrap:wrap;}
        .article-tag{background:rgba(110,207,255,0.2);color:#6ecfff;padding:0.3rem 0.9rem;border-radius:20px;font-size:0.86rem;}
        .article-excerpt{line-height:1.7;opacity:0.88;}
        @media(max-width:768px){.article-item{padding:1.8rem 2rem;}}
    </style>
</head>
<body>
<div class="bg-container"></div>
<div class="bg-overlay"></div>
<div w3-include-html="/header.html"></div>

<main>
    <h1 class="page-title">文章</h1>

    <div class="categories">
        <div class="category-card" onclick="location.href='/doc/diary/'">
            <div class="category-icon"><svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6z"/></svg></div>
            <div class="category-title">日记</div>
            <div class="category-desc">生活碎碎念、情绪记录</div>
        </div>
        <div class="category-card" onclick="location.href='/doc/experience/'">
            <div class="category-icon"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg></div>
            <div class="category-title">经验</div>
            <div class="category-desc">技术总结、踩坑记录</div>
        </div>
    </div>

    <div class="latest-articles">
        <h2 class="section-title">最新更新</h2>
        <div class="article-list" id="latestArticles">加载中...</div>
    </div>
</main>

<script>
// 从 JSON 加载文章列表
fetch('/doc/articles.json')
  .then(r => r.json())
  .then(articles => {
    const container = document.getElementById('latestArticles');
    container.innerHTML = '';

    // 首页显示最新 6 篇
    const latest = articles.slice(0, 6).reverse(); // 倒序最新在前

    latest.forEach(art => {
      const div = document.createElement('div');
      div.className = 'article-item';
      div.onclick = () => location.href = `/doc/\( {art.category}/ \){art.id}.html`;
      div.innerHTML = `
        <div class="article-title">${art.title}</div>
        <div class="article-meta">
          <span>${art.date}</span>
          <span class="article-tag">${art.category === 'diary' ? '日记' : '经验'}</span>
        </div>
        <div class="article-excerpt">${art.excerpt}</div>
      `;
      container.appendChild(div);
    });

    if (latest.length === 0) container.innerHTML = '<p style="text-align:center;opacity:0.6;padding:4rem 0;">暂无文章～</p>';
  })
  .catch(() => {
    document.getElementById('latestArticles').innerHTML = '<p style="text-align:center;opacity:0.6;padding:4rem 0;">暂无文章～</p>';
  });
</script>
<script src="/include.js"></script>
</body>
</html>