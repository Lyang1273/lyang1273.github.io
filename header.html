<header class="site-header">
  <div class="site-title">Lyang1273</div>

  <button class="nav-arrow nav-arrow-left" aria-hidden="true" tabindex="-1">‹</button>

  <nav class="header-buttons nav-scroll" aria-label="主导航" tabindex="0">
    <a href="/index.html" class="header-link"><span class="header-btn">主页</span></a>
    <a href="/doc/index.html" class="header-link"><span class="header-btn">文章</span></a>
    <!-- <a href="/contact/index.html" class="header-link"><span class="header-btn">联系人</span></a> -->
    <a href="/music/index.html" class="header-link"><span class="header-btn">音乐</span></a>
    <a href="/tags.html" class="header-link"><span class="header-btn">标签</span></a>
    <a href="/projects.html" class="header-link"><span class="header-btn">项目</span></a>
    <a href="/archive.html" class="header-link"><span class="header-btn">归档</span></a>
    <a href="/about.html" class="header-link"><span class="header-btn">关于</span></a>
    <a href="/contact.html" class="header-link"><span class="header-btn">联系</span></a>
  </nav>

  <button class="nav-arrow nav-arrow-right" aria-hidden="true" tabindex="-1">›</button>
</header>

<style>
/* 更通透的顶部栏：降低不透明度并增强毛玻璃 */
.site-header {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 100;
  display: flex;
  align-items: center;
  gap: 18px;                 /* 增大标题与导航的间距 */
  padding: 12px 18px;
  background: rgba(20,20,20,0.42); /* 更通透（从0.75降到0.42） */
  backdrop-filter: blur(14px) saturate(140%);
  border-bottom: 1px solid rgba(255,255,255,0.03);
}

/* 标题：增加右侧外边距以拉开与导航的距离 */
.site-title {
  color: #fff;
  font-weight: 700;
  margin-right: 12px;
  flex: 0 0 auto;
  letter-spacing: 0.4px;
}

/* 箭头按钮（桌面增强） */
.nav-arrow {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px; height: 36px;
  border-radius: 8px;
  border: none;
  background: rgba(255,255,255,0.03);
  color: #fff;
  cursor: pointer;
  transition: background .12s, opacity .12s;
  opacity: 0.95;
  flex: 0 0 auto;
}
.nav-arrow:hover { background: rgba(255,255,255,0.06); }

/* 横向滚动容器（核心） */
.nav-scroll {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  padding: 6px 4px;
  align-items: center;
  flex: 1 1 auto;
  max-width: calc(100% - 260px);
}

/* —— 隐藏滚动条（视觉上完全隐藏） —— */
.nav-scroll::-webkit-scrollbar { display: none; }
.nav-scroll { -ms-overflow-style: none; scrollbar-width: none; }

/* 链接样式 */
.header-link { text-decoration: none; }
.header-btn {
  display: inline-block;
  white-space: nowrap;
  color: #E8E8E8;
  padding: 8px 12px;
  border-radius: 10px;
  transition: background .12s, color .12s, transform .08s;
  font-size: 0.95rem;
}
.header-btn:hover, .header-btn:focus {
  background: rgba(255,255,255,0.04);
  color: #fff;
  transform: translateY(-1px);
  outline: none;
}

/* 可选：启用 scroll-snap（每个链接对齐） */
.nav-scroll { scroll-snap-type: x mandatory; }
.header-btn { scroll-snap-align: start; }

/* 更柔和的遮罩提示（降低强度以配合通透感） */
.site-header::before,
.site-header::after {
  content: "";
  position: absolute;
  top: 0; bottom: 0;
  width: 44px;
  pointer-events: none;
  z-index: 99;
}
.site-header::before { left: 0; background: linear-gradient(90deg, rgba(20,20,20,0.85), rgba(20,20,20,0)); }
.site-header::after  { right: 0; background: linear-gradient(270deg, rgba(20,20,20,0.85), rgba(20,20,20,0)); }

/* 响应式：手机上隐藏箭头，使用手势滑动或菜单按钮 */
@media (max-width: 720px) {
  .nav-arrow { display: none; }
  .nav-scroll { max-width: calc(100% - 96px); }
  .site-header::before, .site-header::after { display: none; }
}
</style>

<script>
/* 箭头控制、拖拽滑动、箭头显示逻辑、键盘左右键导航（增强） */
(function(){
  const scroller = document.querySelector('.nav-scroll');
  const leftBtn = document.querySelector('.nav-arrow-left');
  const rightBtn = document.querySelector('.nav-arrow-right');
  if (!scroller) return;

  function scrollAmount() { return Math.max(220, Math.round(scroller.clientWidth * 0.6)); }

  leftBtn && leftBtn.addEventListener('click', ()=> scroller.scrollBy({ left: -scrollAmount(), behavior: 'smooth' }));
  rightBtn && rightBtn.addEventListener('click', ()=> scroller.scrollBy({ left: scrollAmount(), behavior: 'smooth' }));

  function updateArrows(){
    if (!leftBtn || !rightBtn) return;
    const maxScroll = scroller.scrollWidth - scroller.clientWidth;
    leftBtn.style.visibility = scroller.scrollLeft > 8 ? 'visible' : 'hidden';
    rightBtn.style.visibility = scroller.scrollLeft < maxScroll - 8 ? 'visible' : 'hidden';
  }
  scroller.addEventListener('scroll', updateArrows);
  window.addEventListener('resize', updateArrows);
  updateArrows();

  // 鼠标拖拽滑动（桌面增强）
  let isDown = false, startX, scrollLeft;
  scroller.addEventListener('mousedown', (e)=>{
    isDown = true;
    scroller.classList.add('dragging');
    startX = e.pageX - scroller.offsetLeft;
    scrollLeft = scroller.scrollLeft;
    e.preventDefault();
  });
  document.addEventListener('mouseup', ()=> { isDown = false; scroller.classList.remove('dragging'); });
  document.addEventListener('mousemove', (e)=>{
    if(!isDown) return;
    const x = e.pageX - scroller.offsetLeft;
    const walk = (x - startX) * 1.2;
    scroller.scrollLeft = scrollLeft - walk;
  });

  // 键盘左右键在 nav 聚焦时滚动
  scroller.addEventListener('keydown', (e)=>{
    if (e.key === 'ArrowRight') { scroller.scrollBy({ left: 120, behavior: 'smooth' }); e.preventDefault(); }
    if (e.key === 'ArrowLeft')  { scroller.scrollBy({ left: -120, behavior: 'smooth' }); e.preventDefault(); }
  });
})();
</script>